"use strict";function _readOnlyError(s){throw new TypeError('"'+s+'" is read-only')}function initWishlistTabs(){$(".is-account-grid .wishlists li").on("click",(function(){var s=$(this).attr("data-target-wishlist");$(this).siblings("li").removeClass("is-active"),$(this).addClass("is-active"),$("ul.wishlist").addClass("is-hidden"),$("#"+s).removeClass("is-hidden")}))}function getWishlists(){var s=feather.icons["shopping-cart"].toSvg(),t=feather.icons["trash-2"].toSvg(),i=JSON.parse(localStorage.getItem("user"))||{};if(i.isLoggedIn)if(void 0===i.wishlists)$("#wishlist-main, #wishlist-empty-placeholder").toggleClass("is-hidden");else{$(".is-account-grid .menu-card li, #wishlists-container .wishlist-card .wishlist").remove();for(var a=0;a<i.wishlists.length;a++){var e=void 0,l=void 0;0==a?(e='\n          <li class="is-active" data-target-wishlist="wishlist-'.concat(i.wishlists[a].id,'" data-wishlist-id="').concat(i.wishlists[a].id,'">\n              <a>').concat(i.wishlists[a].name,'</a>\n              <div class="action-block">\n                  <span>').concat(i.wishlists[a].products.length,' items</span>\n                  <button class="remove-button remove-wishlist-action">\n                      ').concat(t,"\n                  </button>\n              </div>\n          </li>\n        "),l='\n          <ul id="wishlist-'.concat(i.wishlists[a].id,'" class="wishlist"></ul>\n        ')):(e='\n          <li data-target-wishlist="wishlist-'.concat(i.wishlists[a].id,'" data-wishlist-id="').concat(i.wishlists[a].id,'">\n              <a>').concat(i.wishlists[a].name,'</a>\n              <div class="action-block">\n                  <span>').concat(i.wishlists[a].products.length,' items</span>\n                  <button class="remove-button remove-wishlist-action">\n                      ').concat(t,"\n                  </button>\n              </div>\n          </li>\n       "),l='\n          <ul id="wishlist-'.concat(i.wishlists[a].id,'" class="wishlist is-hidden"></ul>\n        ')),$(".is-account-grid .wishlists").append(e),$("#wishlists-container .wishlist-card").append(l)}for(var n=0;n<i.wishlists.length;n++){for(var o=0;o<i.wishlists[n].products.length;o++){var c='\n          <li class="wishlist-item product-container" onclick="return true" data-wishlist-id="'.concat(i.wishlists[n].id,'"\n              data-product-id="').concat(i.wishlists[n].products[o].id,'">\n              <div class="item-wrapper">\n                  \x3c!-- Product Image --\x3e\n                  <img src="http://via.placeholder.com/500x500/ffffff/999999" data-demo-src="').concat(i.wishlists[n].products[o].images[0].url,'" alt="">\n                  \x3c!-- Product meta --\x3e\n                  <span class="product-info">\n                      <a class="product-name">').concat(i.wishlists[n].products[o].name,"</a>\n                      <span>").concat(i.wishlists[n].products[o].category,'</span>\n                      <span class="product-price is-hidden"><span>').concat(i.wishlists[n].products[o].price,'</span></span>\n                  </span>\n                  <div class="action">\n                      \x3c!-- actions --\x3e\n                      <a class="add-button whishlist-cart-button pop-button">\n                          <div class="add-button-inner">\n                              ').concat(s,'\n                          </div>\n                      </a>\n                      <a class="remove-button remove-wishlist-item-action">\n                          <div class="remove-button-inner">\n                              ').concat(t,"\n                          </div>\n                      </a>\n                  </div>\n              </div>\n          </li>\n        ");$("#wishlist-"+i.wishlists[n].id).append(c)}n==i.wishlists.length-1&&("development"===env&&changeDemoImages(),initWishlistTabs(),removeWishlist(),addToCartFromWishlist(),initPopButtons(),removeWishlistItem(),$("#wishlists-container .wishlist-card .wishlist").each((function(){if(!$(this).children("li").length){$(this).append('\n              <li class="placeholder-wrap">\n                  <div class="placeholder-content">\n                      <img src="assets/img/illustrations/couch.svg" alt="">\n                      <h3>Empty Wishlist</h3>\n                      <p>This wishlist is still empty. Items will be shown as soon as you add some to it.</p>\n                  </div>\n              </li>\n            ')}})),$(".account-loader").removeClass("is-active"))}}else $("#wishlist-main, #wishlist-main-placeholder").toggleClass("is-hidden")}function addWishlist(){$(".add-wishlist-action").on("click",(function(){var s=$(this),t=JSON.parse(localStorage.getItem("user")),i=s.closest(".modal").find("input").val();s.addClass("is-loading"),$(".account-loader").addClass("is-active"),setTimeout((function(){var a={id:t.wishlists.length,name:i,products:[]};t.wishlists.push(a),localStorage.setItem("user",JSON.stringify(t)),getWishlists(),s.closest(".modal").removeClass("is-active")}),1e3),setTimeout((function(){s.removeClass("is-loading"),$(".account-loader").removeClass("is-active"),toasts.service.success("","fas fa-check","New wishlist successfully added","bottomRight",2500)}),1500)}))}function removeWishlist(){$(".remove-wishlist-action").on("click",(function(){var s=$(this),t=parseInt(s.closest("li").attr("data-wishlist-id")),i=JSON.parse(localStorage.getItem("user"));launchAlert("Delete Wishlist?","Are you sure you want to delete this wishlist? All items will be removed and this cannot be undone.","Delete","Cancel",(function(){$(".account-loader").addClass("is-active"),setTimeout((function(){i.wishlists=$.grep(i.wishlists,(function(s){return s.id!=t})),localStorage.setItem("user",JSON.stringify(i)),getWishlists()}),1e3),setTimeout((function(){$(".cart-loader").removeClass("is-active"),toasts.service.success("","fas fa-check","Wishlist successfully deleted","bottomRight",2500)}),1500)}))}))}function addToCartFromWishlist(){$(".whishlist-cart-button").on("click",(function(){var s=$(this);$(".cart-loader").addClass("is-active"),addToCart(s),setTimeout((function(){toasts.service.success("","fas fa-plus","Product successfully added to cart","bottomRight",2500),getCart()}),800)}))}function removeWishlistItem(){$(".remove-wishlist-item-action").on("click",(function(){var s=$(this),t=parseInt(s.closest("li").attr("data-product-id")),i=parseInt(s.closest("li").attr("data-wishlist-id")),a=JSON.parse(localStorage.getItem("user"));launchAlert("Remove From Wishlist?","Are you sure you want to remove this product from the current wishlist? This cannot be undone.","Delete","Cancel",(function(){$(".account-loader").addClass("is-active"),setTimeout((function(){a.wishlists[i].products=$.grep(a.wishlists[i].products,(function(s){return s.id!=t})),localStorage.setItem("user",JSON.stringify(a)),getWishlists()}),1e3),setTimeout((function(){$(".cart-loader").removeClass("is-active"),toasts.service.success("","fas fa-check","Product successfully removed","bottomRight",2500)}),1500)}))}))}function initWishlistSelect(){$(".flat-card.product-container .actions .like, .sidebar-whishlist").on("click",(function(){var s,t,i,a,e;$("#product-page").length?(s=$(".product-container").attr("data-product-id"),t=$("#product-details-name").text(),i=$("#new-price").text(),a=$(".is-carousel > div:first-child img").attr("src"),e=$("#product-category").text()):(s=$(this).closest(".product-container").attr("data-product-id"),t=$(this).closest(".product-container").find(".product-name").text(),i=$(this).closest(".product-container").find(".product-price span:first-child").text(),a=$(this).closest(".product-container").find("img").attr("src"),e=$(this).closest(".category-header").find(".category-title h2").text()),$("#add-to-wishlist-modal").attr("data-product-id",s),$("#add-to-wishlist-modal").attr("data-product-name",t),$("#add-to-wishlist-modal").attr("data-product-price",i),$("#add-to-wishlist-modal").attr("data-product-image",a),$("#add-to-wishlist-modal").attr("data-product-category",e),$("#existing-product-message").addClass("is-hidden")})),$("#wishlist-modal-list .list-item").on("click",(function(){$(this).siblings(".list-item").removeClass("is-active"),$(this).addClass("is-active")})),$(".add-to-wishlist-action").on("click",(function(){var s=$(this),t=JSON.parse(localStorage.getItem("user")),i=parseInt($("#wishlist-modal-list .list-item.is-active").attr("data-wishlist-id")),a=parseInt(s.closest(".modal").attr("data-product-id")),e=s.closest(".modal").attr("data-product-name"),l=s.closest(".modal").attr("data-product-price"),n=s.closest(".modal").attr("data-product-image"),o=s.closest(".modal").attr("data-product-category");s.addClass("is-loading"),t.wishlists[i].products.some((function(s){return s.id===a}))?setTimeout((function(){s.removeClass("is-loading"),$("#existing-product-message").removeClass("is-hidden"),_readOnlyError("onceWishlist")}),1200):(t.wishlists[i].products.push({id:a,name:e,category:o,price:l,images:[{url:n}]}),localStorage.setItem("user",JSON.stringify(t)),setTimeout((function(){s.closest(".modal").removeClass("is-active"),s.removeClass("is-loading"),loadWishlistsInModal(),toasts.service.success("","fas fa-check","Product successfully added to wishlist","bottomRight",2500),$("#existing-product-message").addClass("is-hidden"),_readOnlyError("onceWishlist")}),1200))}))}function loadWishlistsInModal(){var s,t=feather.icons.check.toSvg(),i=JSON.parse(localStorage.getItem("user"))||{};if(0===(null===(s=i.wishlists)||void 0===s?void 0:s.length))$("#wishlist-modal-list, #wishlist-modal-list-placeholder").toggleClass("is-hidden");else{$("#wishlist-modal-list ul li").remove();for(var a=0;a<(null===(e=i.wishlists)||void 0===e?void 0:e.length);a++){var e,l=void 0;l=0==a?'\n          <li class="list-item is-active" data-wishlist-id="'.concat(i.wishlists[a].id,'">\n              <div class="meta">\n                  <span class="name">').concat(i.wishlists[a].name,'</span>\n                  <span class="count"><var>').concat(i.wishlists[a].products.length,'</var> Items</span>\n              </div>\n              <div class="selected-indicator">\n                  ').concat(t,"\n              </div>\n          </li>\n        "):'\n          <li class="list-item" data-wishlist-id="'.concat(i.wishlists[a].id,'">\n              <div class="meta">\n                  <span class="name">').concat(i.wishlists[a].name,'</span>\n                  <span class="count"><var>').concat(i.wishlists[a].products.length,'</var> Items</span>\n              </div>\n              <div class="selected-indicator">\n                  ').concat(t,"\n              </div>\n          </li>\n        "),$.when($("#wishlist-modal-list ul").append(l)).done((function(){initWishlistSelect()}))}}}$((function(){$("#shop-wishlist").length&&(getWishlists(),removeWishlistItem()),$("#new-wishlist").length&&addWishlist(),$("#add-to-wishlist-modal").length&&loadWishlistsInModal()}));